(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(70),o=a.n(n),s=(a(87),a(0)),c=a.n(s),i=a(42),l=a(18),r=a(6),u=a.n(r),m=a(45),d=a(19),g=a(12),h=a(13),p=a(15),f=a(14),k=a(1),b=a(16),v=a(3),E=a.n(v),y=(a(107),a(71)),w=a.n(y),S=a(81),N=a(72),O=a.n(N),x=a(73),L=a.n(x),j=(a(108),function(e){var t=Object(s.useState)(!1),a=Object(S.a)(t,2),n=a[0],o=a[1];return c.a.createElement("div",{className:"menu"},c.a.createElement("header",null,c.a.createElement("div",{className:"second-box"}),c.a.createElement("a",{href:"http://localhost:3000/#/"},c.a.createElement("img",{className:"logo",src:O.a,alt:" "})),c.a.createElement("p",{className:"signed-in-user-gravatar"}," "),e.user?c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"gravatar",src:L.a,alt:" "}),c.a.createElement("input",{id:"burger",type:"checkbox"}),c.a.createElement("label",{id:"label-menu",for:"burger",onClick:function(){return o(!n)}},c.a.createElement("span",{className:"nav-line"}),c.a.createElement("span",{className:"nav-line"}),c.a.createElement("span",{className:"nav-line"})),n?c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"drop-down"},c.a.createElement("div",{className:"nav-item"},e.user.name),c.a.createElement("button",{className:"nav-item nav-button",onClick:e.onLogout},"Logout"))):null):c.a.createElement("button",{className:"login-button",onClick:e.onLogin},"Login")))}),C=(a(109),a(74)),P=a.n(C),F=a(75),T=a.n(F),I=a(43),D=a.n(I),U=function(e){return c.a.createElement("div",null,e.stocks.map(function(t,a){return c.a.createElement("div",{key:t.symbol,className:"item"},c.a.createElement("img",{className:"del-icon",src:T.a,alt:"",onClick:function(){return e.delStock(a)}}),c.a.createElement("div",{className:"stock-logo"},c.a.createElement("img",{className:"stock-logo",alt:"",src:"GOOGL"===t.symbol?"http://logo.clearbit.com/googl.com":"https://storage.googleapis.com/iex/api/logos/".concat(t.symbol,".png")})),c.a.createElement("div",{className:"symbol_name"},c.a.createElement("div",{className:"symbol"},t.symbol)),c.a.createElement("div",{className:"wiget"},c.a.createElement(D.a,{symbol:"NASDAQ:".concat(t.symbol),theme:I.Themes.LIGHT,locale:"en",style:"3",interval:"D",hide_legend:!0,hide_top_toolbar:!0,width:"130%",height:"155"})),c.a.createElement("div",{className:"price_percent"},c.a.createElement("div",{className:"price"},"$ ",t.price),c.a.createElement("div",{className:"percent"},t.changePercent.toFixed(2))),c.a.createElement("img",{className:"info-icon",onClick:function(){return e.selectStock(t.symbol)},src:P.a,alt:""}))}))},_=(a(113),a(76)),A=a.n(_),M=function(e){var t=e.getValueFromInput,a=e.addStockToList;return c.a.createElement("div",null,c.a.createElement("form",{className:"search-stock",onSubmit:a},c.a.createElement("div",{className:"search-input"},c.a.createElement("div",{className:"cursor"},c.a.createElement("input",{className:"input_field",type:"search",onChange:t,placeholder:"symbol",autoFocus:!0}),c.a.createElement("i",null))),c.a.createElement("div",null,c.a.createElement("button",{className:"submit_input",type:"submit",value:""},c.a.createElement("img",{className:"search-button",src:A.a,alt:" "})))))};a(114);var V=function(e){var t=e.stock;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"stock-details-container item"},c.a.createElement("div",{className:"symbol-name"},c.a.createElement("div",{className:"company-symbol"}," ",t.symbol),c.a.createElement("div",{className:"company-name"},t.companyName)),c.a.createElement("div",{className:"price-osc"},c.a.createElement("div",{className:"price-list"},"$ ",t.price.toFixed(2)),c.a.createElement("div",null,t.changePercent.toFixed(2)))),c.a.createElement("div",{className:"stock-details"},c.a.createElement("p",null,"week52Low:($) ",t.week52low.toFixed(2)),c.a.createElement("p",null,"week52High:($) ",t.week52high.toFixed(2)),c.a.createElement("p",null,"Market cap:($) ",function(e){var t=Math.floor((""+e).length/3),a=parseFloat((0!=t?e/Math.pow(1e3,t):e).toPrecision(2));return a+["","K","M","B","T"][t]}(t.marketcap)),c.a.createElement("p",null,"Revenue:($) ",t.revenue.toFixed(2)),c.a.createElement("p",null,"Revenue per share:($) ",t.revenuePerShare.toFixed(2)),c.a.createElement("p",null,"EBITDA: ",t.ebitda.toFixed(2)),c.a.createElement("p",null,"Profit Margin: $ ",t.profitMargin.toFixed(2)),c.a.createElement("p",null,"ROE: ",t.returnOnEquity.toFixed(2)),c.a.createElement("p",null,"EPS: ",t.ttmEPS.toFixed(2)),c.a.createElement("p",null,"Div.Yield: ",t.dividendYield.toFixed(2))))},$=a(77),B=(a(208),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).stock_period_url=function(e,t){return"https://api.iextrading.com/1.0/stock/".concat(e,"/chart/").concat(t)},a.setPeriod=function(){var e=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({period:t.target.value});case 3:console.log(a.state.period),a.setState({buttonColor:"#66fcf1"}),a.setState({textColor:"#1f2833"}),a.getChartData();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={period:"1y",chartData:{},buttonColor:"#45a29e",textColor:"#1f2833"},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.getChartData()}},{key:"getChartData",value:function(){var e=this;E.a.get(this.stock_period_url(this.props.symbol,this.state.period)).then(function(t){var a=t.data,n=a.map(function(e){return e.high}),o=a.map(function(e){return e.date}),s=a.map(function(e){return e.minute});e.setState({chartData:{labels:"1d"===e.state.period?s:o,datasets:[{label:"Price",data:n,backgroundColor:["rgba(75, 192, 192, 0.6)"]}]}})})}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"chart-container"},c.a.createElement("div",{className:"current-period"}),["1d","1m","3m","6m","1y","2y","5y"].map(function(t){return c.a.createElement("button",{className:"period-buttons",onClick:e.setPeriod,style:t===e.state.period?{color:"#1f2833",backgroundColor:"#66fcf1",border:"2px solid #1f2833"}:{color:"#66fcf1",backgroundColor:"#1f2833"},value:t},t)}),c.a.createElement($.a,{data:this.state.chartData})))}}]),t}(s.Component)),q=function(e){return"https://api.iextrading.com/1.0/stock/".concat(e,"/quote?displayPercent=true")},Y=function(e){return"https://api.iextrading.com/1.0/stock/".concat(e,"/stats")},G=function(e){var t=e.selectedStock,a=e.backToList,n=e.symbol;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("button",{className:"mobile-button",onClick:a},c.a.createElement("img",{className:"mobile-button-icon",src:w.a,alt:" "})),c.a.createElement("button",{className:"back-to-list",onClick:a},"Back to list")),c.a.createElement(V,{stock:t}),c.a.createElement(B,{symbol:n}))},R=function(e){function t(){var e;Object(g.a)(this,t),(e=Object(p.a)(this,Object(f.a)(t).call(this))).deleteStock=function(t){var a=Object.assign([],e.state.stocks);a.splice(t,1),e.setState({stocks:a})};return e.state={selectedStock:{changePercent:0},stocks:[],page:"LIST",symbol:"",results:[],menuVisible:!1,currentUser:{menu_icon:"menu_icon",gravata:"gravata",name:"",email:"luke@email.com"},newloading:[]},e.logout=e.logout.bind(Object(k.a)(e)),e.login=e.login.bind(Object(k.a)(e)),e.selectStock=e.selectStock.bind(Object(k.a)(e)),e.backToList=e.backToList.bind(Object(k.a)(e)),e.getValueFromInput=e.getValueFromInput.bind(Object(k.a)(e)),e.addStockToList=e.addStockToList.bind(Object(k.a)(e)),e.gettingUserInfo=e.gettingUserInfo.bind(Object(k.a)(e)),e.gettingUserInfo(),e.gettingStockList=e.gettingStockList.bind(Object(k.a)(e)),e.addingStockList=e.addingStockList.bind(Object(k.a)(e)),e.deleteStockList=e.deleteStockList.bind(Object(k.a)(e)),e.noLoginList=e.noLoginList.bind(Object(k.a)(e)),e.noLoginList(),e.initialstocks=e.initialstocks.bind(Object(k.a)(e)),e.initialstocks(),e}return Object(b.a)(t,e),Object(h.a)(t,[{key:"initialstocks",value:function(){var e=this;setTimeout(function(){console.log("initial list fired"),console.log("this is this.state.symbol",e.state);var t=[];e.state.stocks.forEach(function(e){t.push(e.symbol)}),e.state.newloading.forEach(function(){var a=Object(d.a)(u.a.mark(function a(n){var o;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("this is e",n),-1!==t.indexOf(n)){a.next=7;break}return a.next=4,e.fetchStockDetailsFromAPI(n);case 4:o=a.sent,console.log("this is changed stock",o),e.setState({stocks:[].concat(Object(m.a)(e.state.stocks),[o])});case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())},2500)}},{key:"noLoginList",value:function(){var e=this;setTimeout(function(){""===e.state.currentUser.name?(console.log("nologin function fired"),console.log("currentuser.name",e.state.currentUser.name),console.log("currentuser",e.state.currentUser),E.a.get("http://localhost:3333/",{withCredentials:!0}).then(function(t){var a=t.data.nostocklist.split(","),n=[];a.forEach(function(e){n.push(e)}),console.log("this is new list",n),e.setState({newloading:n}),console.log("this is state.newloading",e.state.newloading)})):(console.log("currentuser",e.state.currentUser),console.log("currentuser.name",e.state.currentUser.name),console.log("login function fired"),E.a.get("http://localhost:3333/stock/mylist",{withCredentials:!0}).then(function(t){console.log("this is userStocklist info: ",t.data);var a=t.data.listcontents.split(","),n=[];a.forEach(function(e){n.push(e)}),console.log("this is new list",n),e.setState({newloading:n}),console.log("this is state.newloading",e.state.newloading)}))},500)}},{key:"deleteStockList",value:function(){console.log("deleteStockList fired"),E.a.post("http://localhost:3333/stock/deletelist",{listname:"listname"},{withCredentials:!0}).then(function(e){console.log("This is deleteUserStock result: ",e),console.log("delete completed")})}},{key:"gettingStockList",value:function(){console.log("gettingStockList fired"),E.a.get("http://localhost:3333/stock/mylist",{withCredentials:!0}).then(function(e){console.log("This is favorite Stock List info: ",e.data)})}},{key:"addingStockList",value:function(){console.log("addingStockList fired"),E.a.post("http://localhost:3333/stock/addlist",{listname:"test12",listcontents:"test12"},{withCredentials:!0}).then(function(e){console.log("This is addingStockList result: ")})}},{key:"addingStocktoUser",value:function(){console.log("addingStocktoUser fired"),E.a.post("http://localhost:3333/stock/addstock",{stocksymbol:"test"},{withCredentials:!0}).then(function(e){console.log("This is added stock info: ",e.data)})}},{key:"gettingUserInfo",value:function(){var e=this;console.log("userinfo fired"),E.a.get("http://localhost:3333/user/info",{withCredentials:!0}).then(function(t){console.log("This is the user info: ",t.data),e.setState({currentUser:t.data})})}},{key:"clickMenuDropDown",value:function(){this.setState({menuVisible:!this.state.menuVisible})}},{key:"logout",value:function(){console.log("logging out"),this.setState({currentUser:null}),E.a.get("http://localhost:3333/auth/logout",{withCredentials:!0}).then(function(e){console.log("This is deleteUserStock result: ",e),console.log("delete completed"),console.log("logout fired")})}},{key:"login",value:function(){this.props.history.push("/login")}},{key:"getValueFromInput",value:function(e){this.setState({symbol:e.target.value})}},{key:"fetchStockDetailsFromAPI",value:function(){var e=Object(d.a)(u.a.mark(function e(t){var a,n,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.iextrading.com/1.0/stock/".concat(t,"/price"));case 2:return a=e.sent,e.next=5,E.a.get(q(t));case 5:return n=e.sent,e.next=8,E.a.get(Y(t));case 8:return o=e.sent,e.abrupt("return",{price:a.data,symbol:n.data.symbol,companyName:n.data.companyName,changePercent:n.data.changePercent,marketcap:o.data.marketcap,revenuePerShare:o.data.revenuePerShare,revenue:o.data.revenue,week52high:o.data.week52high,week52low:o.data.week52low,ebitda:o.data.EBITDA,dividendYield:o.data.dividendYield,profitMargin:o.data.profitMargin,returnOnEquity:o.data.returnOnEquity,ttmEPS:o.data.ttmEPS});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"addStockToList",value:function(){var e=Object(d.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("addstock list fired"),e.next=4,this.fetchStockDetailsFromAPI(this.state.symbol);case 4:a=e.sent,n=[],this.state.stocks.forEach(function(e){n.push(e.symbol)}),-1===n.indexOf(a.symbol)?(console.log("stock can be added as it is not included :",a),this.setState({stocks:[].concat(Object(m.a)(this.state.stocks),[a])})):console.log("the stock cannot be added ad it is already in the list");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"backToList",value:function(){this.setState({page:"LIST",selectedStock:null})}},{key:"selectStock",value:function(){var e=Object(d.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchStockDetailsFromAPI(t);case 2:a=e.sent,this.setState({page:"DETAILS",selectedStock:a,symbol:t});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(j,{user:this.state.currentUser,onLogin:this.login,onLogout:this.logout}),"LIST"===this.state.page?c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{getValueFromInput:this.getValueFromInput,addStockToList:this.addStockToList}),c.a.createElement(U,{stocks:this.state.stocks,page:this.state.page,selectStock:this.selectStock,delStock:this.deleteStock.bind(this.index)})):c.a.createElement(G,{selectedStock:this.state.selectedStock,backToList:this.backToList,symbol:this.state.symbol}))}}]),t}(c.a.Component),W=(a(209),function(e){return c.a.createElement("div",{className:"App"},c.a.createElement(j,{user:e.currentUser,onLogout:e.logout,onLogin:e.login}))}),H=(a(210),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={email:"",password:""},a.getEmail=a.getEmail.bind(Object(k.a)(a)),a.getPassword=a.getPassword.bind(Object(k.a)(a)),a.login=a.login.bind(Object(k.a)(a)),a.routeChange=a.routeChange.bind(Object(k.a)(a)),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"routeChange",value:function(){this.props.history.push("/signup")}},{key:"getEmail",value:function(e){this.setState({email:e.target.value})}},{key:"getPassword",value:function(e){this.setState({password:e.target.value})}},{key:"login",value:function(e){e.preventDefault(),console.log("Email "+this.state.email,"Password "+this.state.password),E.a.post("http://localhost:3333/auth/login",{userId:this.state.email,password:this.state.password},{withCredentials:!0}).then(function(e){console.log("here is what is going on result 1111",e),console.log("here is what is going on result.data 1111",e.data),console.log("here is what is going on result.data.data 1111",e.data.data)}).then(function(e){console.log("here is  what is going on 22:",e)}).then(function(e){console.log("getting info fired")}).then(function(e){console.log("getting info fired")}),this.props.history.push("/")}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"login-container"},c.a.createElement("h2",null,"Login"),c.a.createElement("form",{className:"login-form",onSubmit:this.login},c.a.createElement("input",{className:"email-login-input",type:"text",value:this.state.email,onChange:this.getEmail,placeholder:"E-mail"}),c.a.createElement("input",{className:"password-login-input",type:"password",value:this.state.password,onChange:this.getPassword,placeholder:"Password"}),c.a.createElement("button",{className:"login-page-button",type:"submit",value:"Login"},"Login")),c.a.createElement("span",{className:"dont-have"},"Dont have an account yet?",c.a.createElement("button",{className:"login-page-signup-button",onClick:this.routeChange},"Sign up here"))))}}]),t}(s.Component)),J=(a(211),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={name:"",email:"",password:""},a.getName=a.getName.bind(Object(k.a)(a)),a.getEmail=a.getEmail.bind(Object(k.a)(a)),a.getPassword=a.getPassword.bind(Object(k.a)(a)),a.signup=a.signup.bind(Object(k.a)(a)),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"getName",value:function(e){this.setState({name:e.target.value})}},{key:"getEmail",value:function(e){this.setState({email:e.target.value})}},{key:"getPassword",value:function(e){this.setState({password:e.target.value})}},{key:"signup",value:function(e){var t=this;e.preventDefault(),E.a.post("http://localhost:3333/auth/join",{name:this.state.name,userId:this.state.email,password:this.state.password}).then(function(e){console.log(e),t.props.history.push("/login")})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"signup-container"},c.a.createElement("h2",null,"Sign Up"),c.a.createElement("form",{onSubmit:this.signup},c.a.createElement("input",{className:"signup-input",type:"text",value:this.state.name,onChange:this.getName,placeholder:"Name"}),c.a.createElement("input",{className:"signup-input",type:"text",value:this.state.email,onChange:this.getEmail,placeholder:"E-mail"}),c.a.createElement("input",{className:"signup-input",type:"password",value:this.state.password,onChange:this.getPassword,placeholder:"Password"}),c.a.createElement("button",{className:"signup-page-button",type:"submit",value:""}," ","Sign Up"))))}}]),t}(s.Component)),K=c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(l.a,{exact:!0,path:"/",component:R}),c.a.createElement(l.a,{exact:!0,path:"/menu",component:j}),c.a.createElement(l.a,{exact:!0,path:"/user",component:W}),c.a.createElement(l.a,{exact:!0,path:"/stockchart",component:B}),c.a.createElement(l.a,{exact:!0,path:"/stockdetails",component:V}),c.a.createElement(l.a,{exact:!0,path:"/login",component:H}),c.a.createElement(l.a,{exact:!0,path:"/searchstock",component:M}),c.a.createElement(l.a,{exact:!0,path:"/watchlist",component:U}),c.a.createElement(l.a,{exact:!0,path:"/signup",component:J})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},71:function(e,t,a){e.exports=a.p+"static/media/home.4bb5e575.svg"},72:function(e,t,a){e.exports=a.p+"static/media/stocklogo.b73a3ac8.svg"},73:function(e,t,a){e.exports=a.p+"static/media/grav.2f1629cc.png"},74:function(e,t,a){e.exports=a.p+"static/media/info.9feaa17e.svg"},75:function(e,t,a){e.exports=a.p+"static/media/del.22589a55.svg"},76:function(e,t,a){e.exports=a.p+"static/media/search.45286e8e.svg"},82:function(e,t,a){e.exports=a(218)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.e613b084.chunk.js.map